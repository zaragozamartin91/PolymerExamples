<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">

<dom-module id="input-button">
  <!-- Defines the element's style and local DOM -->
  <template>
    <!-- 3. Declare the element. Configure using its attributes. -->
    <paper-input id="paper-input-name" label="Your name here"></paper-input>
    <paper-button id="paper-button-sayHello">Say Hello</paper-button>
    <div id="greeting"></div>
	
	<script>
		((function(scope) {
			console.log("scope:");
			console.log(scope);
					
			console.log("Running script!");
		
			var owner;
			if (HTMLImports && !HTMLImports.useNative) {
				owner = document._currentScript.ownerDocument;
			} else {
				owner = document.currentScript.ownerDocument;
			}
			
			console.log("owner:");
			console.log(owner);
		
			var input = owner.querySelector('#paper-input-name');
			var button = owner.querySelector('#paper-button-sayHello');
			var greeting = owner.getElementById("greeting");
		
			console.log("input:");
			console.log(input);
			
			console.log("button:");
			console.log(button);
			
			console.log("greeting:");
			console.log(greeting);
		
			button.addEventListener('click', function() {
				console.log("Clicked!");
				greeting.textContent = 'Hello, ' + input.value;
			});
		
			console.log("Script run ended!");
		
		}))(window);
	</script>
  </template>



  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'input-button',
      properties: {
        route: Object
      }
    });
  </script>

</dom-module>