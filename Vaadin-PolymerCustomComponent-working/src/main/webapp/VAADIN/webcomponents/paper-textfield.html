<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">

<dom-module id="paper-textfield">
  <!-- Defines the element's style and local DOM -->
  <template>
    <!-- 3. Declare the element. Configure using its attributes. -->
	<!--     {{}} sirve para two-way binding. [[]] sirve para one-way -->
    <paper-input 
    	on-change="handleChange" 
    	label="{{inputLabel}}" 
    	value="{{inputValue}}" 
    	required="{{inputRequired}}"
    	pattern="{{inputPattern}}"
    	error-message="{{inputErrorMessage}}"
    	auto-validate></paper-input>
    
  </template>


  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'paper-textfield',
      properties: {
        inputValue: {
          type: String,
          value: "",
          notify: true,
          reflectToAttribute: true,
          //observer: '_valueObserver'
        },
        inputLabel: {
        	type:String,
        	value:"",
        },
        inputRequired: {
        	type: Boolean,
        	value: false,
        	notify: true,
          	reflectToAttribute: true
        },
        inputPattern: {
        	type: String,
        	notify: true,
          	reflectToAttribute: true
        },
        inputErrorMessage: {
        	type: String,
        	notify: true,
          	reflectToAttribute: true
        }
      },
      handleChange: function(e){
      	console.log("event trigger:");
      	console.log(e);
      	console.log("input value changed to: " + this.inputValue);
      	this.fire('kick', {kickValue: this.inputValue});
      },
//       _valueObserver: function(newValue, oldValue) {
//       	console.log("inputValue changed from " + oldValue + " to " + newValue);
//       	this.fire('kick', {kicked: true});
//       },
      getValue: function() {
        return this.inputValue;
      },
      setValue: function(newValue) {
        this.inputValue = newValue;
      },
      setRequired: function(req) {
      	this.inputRequired = req;
      },
      setErrorMessage: function(errMsg){
     	this.inputErrorMessage = errMsg;
      },
      setLabel: function(lbl){
      	this.inputLabel = lbl;
      },
      setPattern: function(pattern){
      	this.inputPattern = pattern;
      }
    });
  </script>

</dom-module>